Прототип для тестирования игровой модели survival mmo
=====================================================

* Disclaimer: ниже поток сознания требующий правок и уточнений. Критика приветствуется. *

В качестве эпиграфа 
-------------------

       - Э-э-э... Доктор, значит, совет знает, что мы столкнёмся с опасными животными? 
       
       - А? Обязательно столкнётесь с самым опасным животным на свете. 
       
       - Если это не просто фигура речи... 
       
       - Разумеется, нет! 
       
       - Тогда нас или посылают на Митру, где водятся снежные обезьяны, или 
выбросят где-нибудь здесь, на Земле, где мы столкнёмся с леопардами. Я 
прав? 

       Мастер разочарованно покачал головой. 
       
       - Мальчик мой, я думаю, тебе лучше отказаться от экзамена и пройти 
курс заново. Эти тупые твари совсем не опасны. 

       - Но у Джаспера в "Хищниках и жертвах" сказано, что два наиболее 
коварных и опасных вида... 

       - Чёрт с ним, с Джаспером! Я же говорю о настоящем царе зверей, о 
единственном животном, которое опасно всегда, даже когда не голодно. О 
двуногих хищниках! Посмотрите вокруг! - Инструктор наклонился вперёд и 
продолжил: - Я вам сто раз повторял, но вы всё равно никак не усвоите. 
Человек - это единственное животное, которое нельзя приручить. Когда 
его это устраивает, он годами может вести себя тихо, как корова. А 
когда не устраивает, даже леопард по сравнению с ним выглядит 
котёнком. Это вдвойне касается женских особей. 
 
- Роберт Хайнлайн "Туннель в небе" 
 
Жанр 
----
       Казуальная Survival BMMORPG. 
 
Предпосылки 
-----------

       Большая часть mmo на данный момент являются по сути синглами с общим 
чатом, аукционом и дуэлями и обладают одним фатальным (на мой взгляд ;) 
недостатком - отсутствием РЕАЛЬНОГО конфликта между игроками. А 
конфликт - это одна из вещей, которая очень сильно затягивает игрока в 
игру и заставляет играть в нее все больше и больше (см. "войны 
кланов"). 

       А что может вызвать конфликт? На мой взгляд - конкуренция за некие 
ресурсы, необходимые для того, чтобы достичь поставленных целей в 
игре. При этом целью может быть тупая победа в фаллометрии (наиболее 
высокий рейтинг, например). А может быть попытка заработать в игре 
какие-либо реальные ресурсы, например, если существует вывод средств 
из игры или "черный рынок". На мой взгляд, делать такие игры - 
неэтично, начинает работать "эффект казино", но чем черт не шутит... 
;) 

       Соответственно, необходимо добиться того, чтобы игрокам для 
удовлетворения своих целей нужны были некие игровые ресурсы, и чтобы 
игроки могли мешать друг другу в их добыче, создавая конфликт, который 
в свою очередь создает политику и социальщину, которые в свою очередь 
делают игру интересной и не отпускают игрока. А самый красивый способ, 
на мой взгляд, красиво это реализовать - это правильно 
сбалансированная песочница. 

       При этом не забываем, что это может быть как и хардкор, так и 
казуалка! Игроку ведь совсем не обязательно разбираться во внутренней 
механике игры, он просто может ее ощущать через свободу действий и 
мгновенную реакцию на свои действия. 

       Еще одно - я не нашел ни одной полноценной браузерки ориентированной 
на мобильные платформы одновременно с десктопными. Есть парочка чисто 
мобильных, но они настолько говенные, что всерьез воспринимать 
невозможно. 
 
Вводная
-------

       Итак некая группа людей терпит 
кораблекрушение/авиакатастрофу/попадает на другую планету/в 
параллельное измерение (мулька в том, что можно сделать набор 
сеттингов с разными моделями внутри одной игры, накрыв сразу несколько 
групп целевой аудитории) и оказывается практически в голом виде на 
некоей замкнутой необитаемой территории (далее "остров") с крайне 
ограниченными ресурсами. При этом известно, что через некоторое 
рандомное время на территории появятся спасатели и оставшие игроки 
будут спасены и при этом получат некий профит, тем больший, чем меньше 
живых игроков осталось или чем больше у игрока какого-либо ресурса. По 
территории рандомно разбросаны разные полезные предметы, оружие и тому 
подобное, а так же смоделирована некая биосфера, которую могут кушать 
игроки и которая может кушать самих игроков. И, да, игроки тоже могут 
кушать игроков ;) 

       Цель игроков - прожить как можно дольше, по пути уменьшив до минимума 
население острова. При этом баланс должен быть построен так, чтобы 
игрокам тем не менее было выгодно объединяться в группы, и так, чтобы 
способов выживания было много. 
 
Механика
--------

       Игровая вселенная состоит из множества островов, генерирующихся 
случайно по мере набора в них игроков. Каждый остров существует 
определенное время. Некоторый период после создания остров открыт для 
"заселения" игроками. После "спасения" острова или гибели игрока, 
игрок получает некоторое кол-во рейтинга, некоторое количество экспы, 
которую можно потратить на прокачку, после чего имеет возможность 
отправиться на новый остров. 

       Каждый остров состоит из некоторого количества квадратных локаций, 
содержащий в себе флору и фауну, некоторое кол-во скрытых и открытых 
предметов, какие-либо ресурсы итд. Моделируется смена времени суток, 
поведение фауны. 

       Каждый игрок имеет набор параметров - голод, жажда, хит-поинты и 
некоторое количество очков действия, которые тратятся, собственно, на 
действия. При этом чем выше голод, жажда и чем более изранен игрок - 
тем больше очков тратится. Для того чтобы восстановить очки действия 
игрок должен отдохнуть, причем желательно в убежище. Отдых занимает 
какое-то реальное время. При этом игроку не обязательно находится в 
игре, но отдыхать желательно в каком-либо убежище, куда осложнен 
доступ другим игрокам и диким животным. 

       В локациях разбросаны разнообразные предметы, с помощью которых можно 
крафтить другие предметы, добывать еду и материалы и тому подобное. 

       Таким образом игрок имеет следующие возможности - передвигаться между 
локациями, общаться и торговать с другими игроками, обыскивать 
локации, неограниченно драться с мобами и другими игроками, крафтить 
предметы (по рецептам), использовать предметы для боев и добычи еды и 
воды. 

Реализация в рамках railsrumble
-------------------------------

Предлагаю сделать максимально просто - почти текстовая браузерка вокруг event-driven модели, с обработкой логики
на стороне сервера и передачей event`ов пользователям через связку rabbitmq-websockets.
Таким образом нужны:
1. Веб-сервер (статика + маршрутизация событий по клиентам)
2. Игровой сервер - набор моделей + reactor обрабатывающий события от моделей и от пользователей.
3. Клиент принимающий события (и обновляющий интерфейс - knockout?) и генерящий их в ответ на пользовательские действия в браузере. 
   JavaScript/CoffeeScript, one-paged application.
4. Некая инфраструктура, умеющая сериализовать сообщения/события и перегонять их адресату (игровая модель -> клиент). RabbitMQ + некий код.
